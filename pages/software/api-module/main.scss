$speed: 2.4s;
$speed2: 1.2s;
$time: ease 2s;
$step1: calc(-100vh - 30%);
.api-page{
  height: 100%;
  .animation-steps{
    transition-duration: $speed;
    transition-timing-function: ease-in-out;
    transform: translate3d(0,0,0);
    &_1{
      transform: translate3d(0,0,0);
      .slide-section__decor{
        top: 50%;
      }
      .slide-section__decor-box-wall{
        transform: translate(40.4%, 33%);
        opacity: 1;
      }
      .slide-section__decor-box-aside{
        .slide-section__decor-box-aside-controls{
          transform: translate3d(-7%, 0, 0);
          opacity: 1;
        }
      }
      .slide-section__decor-box-variants{
        opacity: 1;
        transform: translate3d(-28%, -68%, 0);
      }
    }
    &_2{
      transform: translate3d(0,-100vh,0);
      .slide-section__decor{
        transform: translate3d(0, -20%, 0);
      }
      .slide-section__decor-box{
        overflow: hidden;
        &:first-child{
          opacity: 0;
          transform: translate3d(70%, 0, 0);
        }
        &:nth-child(2){
          transform: translate3d(-55%, 5%, 0) scale(1.28);
        }
      }
      .slide-section__decor-box-wall{
        transform: translate(18%, 26.8%);
        opacity: 1;
        transition: $speed2;
        height: 72%;
        transform-origin: top left;
        transition: $speed2 $time;
        .picture{
          transition: $speed2 $time;
          transform: translate3d(-12%,0,0);
        }
      }
      .slide-section__decor-box-aside{
        transform: translate3d(398%, 19%, 0);
        transition: $speed2 $time;
        .slide-section__decor-box-aside-controls{
          transform: translate3d(-7%, 0, 0);
          opacity: 1;
        }
      }
      .slide-section__decor-box-variants{
        opacity: 1;
        transform: translate3d(-28%, -70%, 0);
      }
      .slide-section__decor-box-variants-item{
        position: absolute;
        transition: $speed2 $time;
        &:nth-child(1){
          transform: translate3d(-385%, -40%, 0);
        }
        &:nth-child(2){
          transform: translate3d(-385%, -150%, 0);
        }
        &:nth-child(3){
          transform: translate3d(-385%, -260%, 0);
        }
        &:nth-child(4){
          transform: translate3d(-385%, -370%, 0);
        }
        &:nth-child(5){
          transform: translate3d(-385%, -480%, 0);
        }
        &:nth-child(6){
          transform: translate3d(-385%, -590%, 0);
        }
        &:nth-child(7){
          transform: translate3d(-385%, -696%, 0);
        }
      }
    }
    &_3{
      transform: translate3d(0,-100vh,0);
      .slide-section__decor{
        transform: translate3d(0, -20%, 0);
      }
      .slide-section__decor-box{
        overflow: hidden;
        &:first-child{
          opacity: 0;
          transform: translate3d(70%, 0, 0);
        }
        &:nth-child(2){
          transform: translate3d(-55%, 5%, 0) scale(1.28);
        }
      }
      .slide-section__decor-box-wall{
        transform: translate(40.4%, 31%);
        opacity: 1;
      }
      .slide-section__decor-box-aside{
        .slide-section__decor-box-aside-controls{
          transform: translate3d(-7%, 0, 0);
          opacity: 1;
        }
      }
      .slide-section__decor-box-variants-item{
        opacity: 1;
        &:nth-child(4){
          transform: translate3d(calc(1130% - 0px), -80%, 0);
        }
        &:nth-child(5){
          transform: translate3d(calc(1030% - 5px), -80%, 0);
        }
        &:nth-child(6){
          transform: translate3d(calc(930% - 10px), -80%, 0);
        }
        &:nth-child(7){
          transform: translate3d(calc(830% - 15px), -80%, 0);
        }
        &:nth-child(8){
          transform: translate3d(calc(730% - 20px), -80%, 0);
        }
        &:nth-child(9){
          transform: translate3d(calc(630% - 25px), -80%, 0);
        }
        &:nth-child(10){
          transform: translate3d(calc(530% - 30px), -80%, 0);
        }
      }
      .slide-section__text{
        &_1{
          transform: translate3d(-50%, -50vh, 0);
        }
        &_2{
          opacity: 1;
          transform: translate3d(-50%, 0, 0);
        }
      }
      .slide-section__decor-box-analitics{
        visibility: visible;
      }
    }
    &_4{
      transform: translate3d(0,-100vh,0);
      .slide-section__decor{
        transform: translate3d(0, -20%, 0);
      }
      .slide-section__decor-box{
        overflow: hidden;
        &:first-child{
          opacity: 0;
          transform: translate3d(70%, 0, 0);
        }
        &:nth-child(2){
          transform: translate3d(-55%, 5%, 0) scale(1.28);
        }
      }
      .slide-section__decor-box-wall{
        transform: translate(40.4%, 31%);
        opacity: 1;
      }
      .slide-section__decor-box-aside{
        .slide-section__decor-box-aside-controls{
          transform: translate3d(-7%, 0, 0);
          opacity: 1;
        }
      }
      .slide-section__decor-box-variants-item{
        opacity: 1;
        &:nth-child(4){
          transform: translate3d(calc(1130% - 0px), -80%, 0);
        }
        &:nth-child(5){
          transform: translate3d(calc(1030% - 5px), -80%, 0);
        }
        &:nth-child(6){
          transform: translate3d(calc(930% - 10px), -80%, 0);
        }
        &:nth-child(7){
          transform: translate3d(calc(830% - 15px), -80%, 0);
        }
        &:nth-child(8){
          transform: translate3d(calc(730% - 20px), -80%, 0);
        }
        &:nth-child(9){
          transform: translate3d(calc(630% - 25px), -80%, 0);
        }
        &:nth-child(10){
          transform: translate3d(calc(530% - 30px), -80%, 0);
        }
      }
      .slide-section__text{
        &_1{
          transform: translate3d(-50%, -50vh, 0);
        }
        &_2{
          opacity: 1;
          transform: translate3d(-50%, -50vh, 0);
        }
        &_3{
          opacity: 1;
          transform: translate3d(-50%, 0, 0);
        }
      }
      .slide-section__decor-box-analitics{
        visibility: visible;
        transform: translate3d(0,0,0);
      }
    }
  }
  .api-page__hero{
    z-index: 2;
    .slide-section__text{
      margin-top: 220px;
    }
  }
  .slide-section__decor{
    top: 50%;
    transform: translate3d(0, $step1, 0);
    transition: $speed ease-in-out;
  }
  .slide-section__decor-box{
    border: 10px solid #000000;
    width: clamp(200px, 45vw, 75vh);
    border-radius: 10px;
    box-shadow:  0 0 50px rgba(#FFFFFF, .4);
    transition: $speed ease-in-out;
    &:first-child{
      margin-right: 80px;
    }
  }
  .slide-section__decor-box-wall{
    top: 0;
    left: 0;
    width: 69%;
    height: 61.4%;
    overflow: hidden;
    transition: $speed ease-in-out, opacity $speed2 ;
    transform: translate(-128.6%, 17.9%);
    opacity: 0;
    z-index: 2;
    .picture{
      position: absolute;
      width: 100%;
      height: 110%;
      transition: $speed;
      transform-origin: right top;
    }
  }
  .slide-section__decor-box-aside{
    top: 0;
    left: 0;
    height: 100%;
    width: 19%;
    transition: $speed ease-in-out, opacity $speed2 ;
    transform: translate(18%, 20%);
    .picture{
      width: 100%;
    }
    .slide-section__decor-box-aside-controls{
      width: calc(100% + 30%);
      transform: translate(-474%, 0);
      opacity: 0;
      transition: $speed ease-in-out, opacity $speed2 ;
    }
  }
  .slide-section__decor-box-variants{
    flex-direction: row-reverse;
    width: 60%;
    bottom: 0;
    left: 50%;
    opacity: 0;
    transform: translate3d(-205%, -30%,0);
    transition: $speed ease-in-out, opacity 1.6s ease-in-out ;
    height: 10%;
    z-index: 3;
  }
  .slide-section__decor-box-variants-item{
    width: 13%;
    bottom: 0;
    left: 0;
    transform: translate3d(0,0,0);
    transition: $speed;
    border-radius: 2px;
    overflow: hidden;
    transform: perspective(1px) translateZ(0);
    backface-visibility: hidden;
    will-change: transform;
    &:nth-child(1){
      transform: translate3d(648%, 0%, 0);
    }
    &:nth-child(2){
      transform: translate3d(540%, 0%, 0);
    }
    &:nth-child(3){
      transform: translate3d(432%, 0%, 0);
    }
    &:nth-child(4){
      transform: translate3d(324%, 0%, 0);
    }
    &:nth-child(5){
      transform: translate3d(216%, 0%, 0);
    }
    &:nth-child(6){
      transform: translate3d(108%, 0%, 0);
    }
    &:nth-child(7){
      transform: translate3d(0%, 0%, 0);
    }
    img,
    picture{
      transform: perspective(1px) translateZ(0);
      backface-visibility: hidden;
      will-change: transform;
    }
  }
  .slide-section__text-wrapper{
    padding-top: clamp(110px, 5vw, 5vh);
  }
  .slide-section__text-inside{
    top: 0;
    transition: $speed ease-in-out;
    left: 50%;
    transform: translate3d(-50%, 0, 0);
    width: 100%;
    white-space: nowrap;
  }
  .slide-section__text{
    &_2{
      top: 0;
      opacity: 0;
      transform: translate3d(-50%, 28vh, 0);
    }
    &_3{
      top: 0;
      opacity: 0;
      transform: translate3d(-50%, 28vh, 0);
    }
  }
  .slide-section__decor-box-analitics{
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    transform: translate3d(100%, 0, 0);
    visibility: hidden;
    transition: $speed ease-in-out;
    z-index: 4;
    img{
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  }
  .api-page__steps{
    &.oh{
      height: 100vh;
      overflow-y: auto;
      overflow-x: hidden;
      @supports (-webkit-touch-callout: none) {
        height: -webkit-fill-available;;
      }
    }
  }
  .scrollable-section{
    margin-top: 5vh;
  }
}